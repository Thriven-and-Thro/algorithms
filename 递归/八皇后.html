<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // 八皇后问题
    class Cheer {
      constructor(sign) {
        this.sign = sign;
        this.queen = [];
        this.queens(0)
      }

      // 回溯算法：
      // 当当前递归不满足条件时，可以回溯到上一步继续递归
      // 在当前例题中通过for循环，当递归不满足，退出递归到上一步
      // 遍历到下一种情况，继续递归
      queens(i) {
        if (i === 8) return
        for (let j = 0; j < this.sign; j++) {
          if (this.isOk(i, j)) {
            this.queen[i] = j
            this.queens(i + 1)
            if (this.queen.length === 8) return
          }
        }
      }

      isOk(i, j) {
        let left = j - 1, right = j + 1
        for (i = i - 1; i >= 0; i--) {
          if (this.queen[i] === left || this.queen[i] === j || this.queen[i] === right) {
            return false
          }
          left--
          right++
        }
        return true
      }

      print() {
        let board = []
        for (let i = 0; i < this.sign; i++) {
          board[i] = []
          for (let j = 0; j < this.sign; j++) {
            board[i][j] = 0
          }
          board[i][this.queen[i]] = 1
        }
        console.log(board);
      }
    }

    const queen = new Cheer(8);
    queen.print()

  </script>
</body>

</html>